<!DOCTYPE html>

<head>
  <base href="/constellation-app.github.io/help/constellation/">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../../../assets/css/app.css" />
  <link rel="stylesheet" href="../../../assets/bootstrap/css/bootstrap.css" />
  <link rel="stylesheet" href="../../../assets/bootstrap/css/search.css" />
  <noscript>
    <link rel="stylesheet" href="../../../assets/css/noscript.css" />
  </noscript>

  <!-- Scripts -->
  <script src="../../../assets/js/jquery.min.js"></script>
  <script src="../../../assets/js/js.cookie.min.js"></script>
  <script src="../../../assets/js/jquery.dropotron.min.js"></script>
  <script src="../../../assets/js/jquery.scrolly.min.js"></script>
  <script src="../../../assets/js/jquery.scrollex.min.js"></script>
  <script src="../../../assets/js/browser.min.js"></script>
  <script src="../../../assets/js/breakpoints.min.js"></script>
  <script src="../../../assets/js/app.js"></script>
  <script src="../../../assets/bootstrap/js/bootstrap.js"></script>
  <script src="../../../assets/bootstrap/js/index.min.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-139401597-2"></script>

  <script>
    $(function() {
      $("#includedContent").load("../toc.html");
    });
  </script>

  <!-- Nav -->
  <nav id="nav">
    <ul>
      <li><a href="../../../index.html">Home</a></li>
      <li><a href="../../../index.html#banner" class="scrolly">About</a></li>
      <li><a href="../../../index.html#features" class="scrolly">Features</a></li>
      <li><a href="../../../download.html" class="scrolly">Download</a></li>
      <li><a href="../../../blog.html" class="scrolly">Blog</a></li>
      <li><a href="../ext/docs/CoreFunctionality/src/au/gov/asd/tac/constellation/functionality/about-constellation.html" class="scrolly">Documentation</a></li>
      <li><a href="../../../index.html#contact" class="scrolly">Contact</a></li>
    </ul>
  </nav>

</head>

<body style="padding-top: 100px;">

  <div class="row">
    <div class="col-4 col-sm-3">
      <div id="includedContent"></div>
    </div>
    <div class="col-8 col-sm-9">
        <!-- Create the searchbar -->
        <div class="App">
            <!-- Search bar -->
            <div class="SearchBox">
                <div class="Search">
                    <button class="icon">&#x1F50D</button>
                    <input type="text" placeholder="Search help documentation" />
                    <button class="clear">&times;</button>
                </div>
                <ul class="SuggestionList"></ul>
            </div>
            <ul class="ResultsList"></ul>
        </div>

      <h1>About The Jupyter Notebook Server</h1>
      <p>Selecting Tools -&gt; Start Jupyter Notebook will start a Jupyter notebook server. This will in turn automatically open a new page in your default web browser. The HTTP REST server will be started automatically if it hasn't already been started. This is just a convenience provided by Constellation. The notebook server is started in the directory specified by the "Notebook directory" preference (in Application preferences).</p>
      <p>Using Jupyter Notebook with constellation requires various Python related packages and software. These are all included the Anaconda Python distribution, and thus is recommended for users to install.</p>
      <h3>IMPORTANT</h3>
      <p>The Constellation Client API package that is installed when starting the notebook server will look for the "rest secret" created by the rest server. It is stored in a file called <code>rest.json</code>. By default the package will check the ".IPython" folder in the home directory, as well as the current notebook directory. If the "REST Directory" has been changed in Constellation's options, the user will have to point Constellation Client to the new path of <code>rest.json</code>. Information on how to do that can be found on our github <a href="https://github.com/constellation-app/constellation-training/blob/master/Analyst%20Training/Exercise%2010%20-%20Network%20Analysis%20With%20Python/notebooks_and_constellation.ipynb">here</a>. Simply download the .ipynb file and open it in Jupyter notebook to view.</p>
      <h2>Starting your own Jupyter notebook</h2>
      <p>Starting your own Jupyter notebook server by entering the command <code>jupyter-notebook</code> at a command prompt in the correct directory has exactly the same result.</p>
      <p>The command <code>pip install</code>, along with other arguements, is run when starting the server<br />
      and installs a custom Python package, constellation_client. This package is necessary for using Constellation in your Jupyter notebook.</p>
      <p>When the notebook server starts, its output is sent to the output window "Jupyter notebook". If you start a notebook server and the new page contains a "Password or token" prompt, look in the output window for text that looks like this:</p>
      <pre><code>    Copy/paste this URL into your browser when you connect for the first time,
          to login with a token:
              http://localhost:8888/?token=7f9658570b3bc41bd04cfb20caa382ab67eee7457c7391dc
      </code></pre>
      <p>Copy/paste the token into the "Password or token" input field and select "Log in". Alternatively, you can use the command <code>jupyter notebook list</code> at a command prompt to see what notebook servers are running, and use an existing token.</p>
      <p>When Constellation exits, it will automatically shut down the Jupyter notebook that it started.</p>
      <p>If for some reason Constellation cannot start a Jupyter notebook server, you can start one manually using the command above at a command prompt. Don't forget to manually start the REST server. You will also have to manually shut down the notebook server.</p>
      <h2>Common Errors</h2>
      <p>If the server fails to start and you get an error such as "Failed to start jupyter-notebook", you may not have Jupyter or pip installed, or may have not added these to your command path (in the case of using Windows).</p>
      <p>Example of error from pip not being installed on windows: <br /> <img src="../ext/docs/CoreUtilities/src/au/gov/asd/tac/constellation/utilities/PipError.png" alt="Pip Error" /> <br /> <br /> Example of error from Jupyter not being installed on windows: <br /> <img src="../ext/docs/CoreUtilities/src/au/gov/asd/tac/constellation/utilities/JupyterError.png" alt="Jupyter Error" /> <br /> <br /></p>
      <h2>In Depth Tutorial</h2>
      <p>A tutorial for how to use Jupyter notebook with Constellation can be found on our github <a href="https://github.com/constellation-app/constellation-training/blob/master/Analyst%20Training/Exercise%2010%20-%20Network%20Analysis%20With%20Python/notebooks_and_constellation.ipynb">here</a>.</p>
      <p>Simply download the .ipynb file and open it in Jupyter notebook to view.</p>
      <br />

      <h2>Setup</h2>
      <h3>Windows</h3>
      <p>On Windows, the easiest way to install these and add them to the command path is to install the Anaconda Python distribution and check the box "Add Anaconda3 to my PATH environment variable".</p>
      <br />
      <img src="../ext/docs/CoreUtilities/src/au/gov/asd/tac/constellation/utilities/AnacondaInstall.png" alt="Installing Anaconda" />
      <br />

      <p><strong>NOTE:</strong> Using the "Add Anaconda3 to my PATH environment variable" checkbox to add commands to PATH is not the only way of doing so, it is simply an easy method. If you believe adding commands to PATH using this method will cause issues, simply search online for guides on manually adding commands to PATH.</p>
      <br />

      <h3>Linux and Mac</h3>
      <p>Similar to Windows, the Anaconda Python distribution can also be used to install all the required software on Linux and Mac.</p>
      <p><strong>NOTE:</strong> The required commands and packages could instead be installed from a command line interface. However, this is only recommended for advanced users.</p>
    </div>
  </div>

  <!-- Footer -->
  <div id="footer">
    <div class="container">
      <div class="row">
        <div class="col-12">

          <!-- Contact Us -->
          <section id="contact" class="contact">
            <header>
              <h3>Contact Us</h3>
            </header>
            <p>Feel free to ask a question on Gitter or file an issue on our GitHub Issues board.</p>
            <p>
              <a href="https://gitter.im/constellation-app/community" class="button">Contact Us</a>
              <span>&nbsp;&nbsp;&nbsp;</span>
              <a href="https://github.com/constellation-app/constellation/blob/master/CONTRIBUTING.md#reporting-bugs" class="button">Report Issue</a>
            </p>
          </section>

          <!-- Copyright -->
          <div class="copyright">
            <ul class="menu">
              <li>&copy; 2025 | Website developed by the <a href="https://github.com/constellation-app">Constellation community</a>. All rights reserved.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    $(document).ready(function() {
      var allCookies = Cookies.get();
      for (var cookie in allCookies) {
        if (cookie != null) {
          $("#" + cookie).removeClass('show');
          var cookieValue = Cookies.get(cookie);
          if (cookieValue == ("true")) {
            $("#" + cookie).collapse('show');
          } else {
            $("#" + cookie).collapse('hide');
            $("#" + cookie + " .collapse").removeClass('show');
          }
        }
      }
    });

    $(".collapse").on('shown.bs.collapse', function(e) {
      console.log('shown');
      e.stopPropagation();
      var active = $(this).attr('id');
      Cookies.set(active, "true");
      $("#" + active).addClass('show');
    });
    $(".collapse").on('hidden.bs.collapse', function(e) {
      console.log('collapsed');
      e.stopPropagation();
      var active = $(this).attr('id');
      Cookies.set(active, "false");
      $("#" + active).removeClass('show');
      $("#" + active).collapse('hide');
    });

    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-139401597-2');
  </script>

  <script>
    // The script for the search 
    let pages = [];

    fetch('../search.json')
        .then(response => response.json())
        .then((documents) => {
            pages = documents;
            return miniSearch.addAll(pages);
    }, {});
        
    const miniSearch = new MiniSearch({
        fields: ['title', 'category'],
        storeFields: ['title', 'category', 'link']
    });
        
    const app = document.querySelector('.App');
    const search = document.querySelector('.Search');
    const searchInput = document.querySelector('.Search input');
    const clearButton = document.querySelector('.Search button.clear');
    const suggestionList = document.querySelector('.SuggestionList');
    const resultsList = document.querySelector(".ResultsList");
        
    const capitalize = (string) => string.replace(/(\b\w)/gi, (char) => char.toUpperCase());

    // Typing into search bar updates search results and suggestions
    searchInput.addEventListener('input', (event) => {
        const query = searchInput.value;

        const results = (query.length > 1) ? getSearchResults(query) : [];
        renderSearchResults(results);
  
        const suggestions = (query.length > 1) ? getSuggestions(query) : [];
        renderSuggestions(suggestions);
    });
        
    // Clicking on clear button clears search and suggestions
    clearButton.addEventListener('click', () => {
        searchInput.value = '';
        searchInput.focus();

        renderSearchResults([]);
        renderSuggestions([]);
    });

    // Clicking on a suggestion selects it
    suggestionList.addEventListener('click', (event) => {
        const suggestion = event.target;

        if (suggestion.classList.contains('Suggestion')) {
            const query = suggestion.innerText.trim();
            searchInput.value = query;
            searchInput.focus();

            const results = getSearchResults(query);
            renderSearchResults(results);
            renderSuggestions([]);
        }
    });

    // Clicking outside of search bar clears suggestions
    app.addEventListener('click', (event) => {
        renderSuggestions([]);
    });
        
    // Pressing up/down/enter key while on search bar navigates through suggestions
    search.addEventListener('keydown', (event) => {
        const key = event.key;

        if (key === 'ArrowDown') {
            selectSuggestion(+1);
        } else if (key === 'ArrowUp') {
            selectSuggestion(-1);
        } else if (key === 'Enter' || key === 'Escape') {
            searchInput.blur();
            renderSuggestions([]);
        } else {
            return;
        }
        const query = searchInput.value;
        const results = getSearchResults(query);
        renderSearchResults(results);
    });

    // Get the search results
    const getSearchResults = (query) => {
        return miniSearch.search(query).map(({ id }) => pages[id]);
    };

    // Get possible suggestions for what has been typed
    const getSuggestions = (query) => {
        return miniSearch.autoSuggest(query);
    };

    // Display the search results on the page
    const renderSearchResults = (results) => {
        resultsList.innerHTML = results.map(({title, link}) => {
            return `<li class="Result">
                <a href=\ ${link}> ${capitalize(title)}</a>
                </li>`;
            }).join('\n');

        if (results.length > 0) {
            app.classList.add('hasResults');
        } else {
            app.classList.remove('hasResults');
        }
    };

    // Display the suggestions
    const renderSuggestions = (suggestions) => {
        suggestionList.innerHTML = suggestions.map(({ suggestion }) => {
            return `<li class="Suggestion">${suggestion}</li>`;
        }).join('\n');

        if (suggestions.length > 0) {
            app.classList.add('hasSuggestions');
        } else {
            app.classList.remove('hasSuggestions');
        }
    };

    // Select a suggestion and set the text input text to match 
    const selectSuggestion = (direction) => {
        const suggestions = document.querySelectorAll('.Suggestion');
        const selected = document.querySelector('.Suggestion.selected');
        const index = Array.from(suggestions).indexOf(selected);

        if (index > -1) {
            suggestions[index].classList.remove('selected');
        }

        const nextIndex = Math.max(Math.min(index + direction, suggestions.length - 1), 0);
        suggestions[nextIndex].classList.add('selected');
        searchInput.value = suggestions[nextIndex].innerText;
    };     
        
    /**
     * Code for MiniSearch is based on the demo provided at:
     * https://github.com/lucaong/minisearch/blob/master/examples/plain_js
     */

  </script>
</body>
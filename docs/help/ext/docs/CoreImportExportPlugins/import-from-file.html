<!DOCTYPE html>

<head>
  <base href="/constellation-app.github.io/help/constellation/">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../../../assets/css/app.css" />
  <link rel="stylesheet" href="../../../assets/bootstrap/css/bootstrap.css" />
  <link rel="stylesheet" href="../../../assets/bootstrap/css/search.css" />
  <noscript>
    <link rel="stylesheet" href="../../../assets/css/noscript.css" />
  </noscript>

  <!-- Scripts -->
  <script src="../../../assets/js/jquery.min.js"></script>
  <script src="../../../assets/js/js.cookie.min.js"></script>
  <script src="../../../assets/js/jquery.dropotron.min.js"></script>
  <script src="../../../assets/js/jquery.scrolly.min.js"></script>
  <script src="../../../assets/js/jquery.scrollex.min.js"></script>
  <script src="../../../assets/js/browser.min.js"></script>
  <script src="../../../assets/js/breakpoints.min.js"></script>
  <script src="../../../assets/js/app.js"></script>
  <script src="../../../assets/bootstrap/js/bootstrap.js"></script>
  <script src="../../../assets/bootstrap/js/index.min.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-139401597-2"></script>

  <script>
    $(function() {
      $("#includedContent").load("../toc.html");
    });
  </script>

  <!-- Nav -->
  <nav id="nav">
    <ul>
      <li><a href="../../../index.html">Home</a></li>
      <li><a href="../../../index.html#banner" class="scrolly">About</a></li>
      <li><a href="../../../index.html#features" class="scrolly">Features</a></li>
      <li><a href="../../../download.html" class="scrolly">Download</a></li>
      <li><a href="../../../blog.html" class="scrolly">Blog</a></li>
      <li><a href="../ext/docs/CoreFunctionality/about-constellation.html" class="scrolly">Documentation</a></li>
      <li><a href="../../../index.html#contact" class="scrolly">Contact</a></li>
    </ul>
  </nav>

</head>

<body style="padding-top: 100px;">

  <div class="row">
    <div class="col-4 col-sm-3">
      <div id="includedContent"></div>
    </div>
    <div class="col-8 col-sm-9">
        <!-- Create the searchbar -->
        <div class="App">
            <!-- Search bar -->
            <div class="SearchBox">
                <div class="Search">
                    <button class="icon">&#x1F50D</button>
                    <input type="text" placeholder="Search help documentation" />
                    <button class="clear">&times;</button>
                </div>
                <ul class="SuggestionList"></ul>
            </div>
            <ul class="ResultsList"></ul>
        </div>

      <h1>Import From File</h1>
      <table class="table table-striped">
      <colgroup>
      <col style="width: 25%" />
      <col style="width: 25%" />
      <col style="width: 25%" />
      <col style="width: 25%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Constellation Action</th>
      <th>Keyboard Shortcut</th>
      <th>User Action</th>
      <th style="text-align: center;">Menu Icon</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Open Delimited File Importer</td>
      <td></td>
      <td>File -&gt; Import -&gt; From File...</td>
      <td style="text-align: center;"><img src="../ext/docs/CoreImportExportPlugins/resources/importDelimited.png" alt="Import From File Icon" /></td>
      </tr>
      </tbody>
      </table>

      <h2>Introduction</h2>
      <p>The "Import From File" window allows you to import data from the following sources:</p>
      <ul>
      <li>Comma-separated values (CSV)</li>
      <li>Tab-separated values (TSV)</li>
      <li>Excel</li>
      <li>XML</li>
      <li>JSON</li>
      </ul>
      <div style="text-align: center">

      <p><img width=500 src="../ext/docs/CoreImportExportPlugins/resources/DelimitedFileImporter.png" alt="Delimited File
      Importer" /></p>
      </div>
      <br />

      <h2>High Level Workflow Steps</h2>
      <p>The following is a high level workflow an analyst can follow (explained in detail later on):</p>
      <ol>
      <li>Select the file type you want to import with File Parser</li>
      <li>Click on the <img width=16 src="../ext/docs/CoreImportExportPlugins/resources/plus_colored.png" alt="Add File
      Button" /> to add files.</li>
      <li>Select your destination graph.</li>
      <li>Drag and drop attributes from the bottom pane onto your columns.</li>
      <li>Right click an attribute for more options.</li>
      <li>Click on the Import button to import the data to your destination graph.</li>
      <li>Save your template using "Save Template".</li>
      <li>Share the template</li>
      </ol>
      <p>Hints:</p>
      <ul>
      <li>See all supported attributes "Show all schema attributes"</li>
      <li>Hover over the attribute name for a tooltip.</li>
      <li>Filter in the Configuration Pane by adding searches of the form &lt;column_name&gt; =="&lt;search text&gt;" E.g. first_name=="Nick".</li>
      </ul>
      <h2>Add and Remove Files to Import</h2>
      <p>Add files to import using the <img width=16 src="../ext/docs/CoreImportExportPlugins/resources/plus_colored.png" alt="Add File
      Button" /> and remove a file using the <img width=16 src="../ext/docs/CoreImportExportPlugins/resources/minus_colored.png" alt="Remove File
      Button" />.</p>
      <p>All the files that are being added should have the same column structure. When the "Files Include Headers" option is enabled, the column headings of all the files should be the same. When it is disabled, the number of columns should be the same. Otherwise a warning message is displayed and the files with a different structure to the first file added are removed.</p>
      <p>Once a file has been added, the full name will appear. If the entire file location is not visible, extend the window to see the full name.</p>
      <p>Once you add a file, the Configuration section will display the first 100 rows of the file as a preview. If you have imported multiple files, selecting the file will update the preview.</p>
      <p>With the "Initialise With Schema" option enabled, new nodes and transactions added to the graph will follow the rules governed by the schema. If this is not enabled, nodes imported will not have attributes such as label and icon defined.</p>
      <p>With the "Files Include Headers" option enabled, the importer will treat the first row of the file as a header and it not be imported. The header row is then displayed as the column names in the preview. With the option disabled, the importer will import every row including the first row. The preview in this case will add some auto-generated column names (these won't affect the file or the import).</p>
      <h2>Select the Destination Graph</h2>
      <p>Select the destination graph from the drop-down list. Once selected, the attributes in the configuration pane update depending on what attributes are supported by the schema of that graph.</p>
      <h2>Apply Attributes</h2>
      <p>Applying an attribute to the column is simple as dragging and dropping an attribute onto a column in the preview.</p>
      <p>By default, not all attributes available to the selected schema are visible because there can be an overwhelming number of attributes depending on the schema. To see all possible attributes you can apply to a graph, select "Show all schema attributes".</p>
      <p>If you have a specific format for example the DateTime, then you can right click on the DateTime attribute and select the format from the drop down list or enter your own Custom Format.</p>
      <p>E.g.</p>
      <ul>
      <li>Select "MM/dd/yyyy HH:mm:ss" (for 05/12/2009 23:59:13)</li>
      <li>Enter Custom format "yyyy-MM-dd'T'HH:mmXXX" (for 1999-07-16T19:20-03:30)</li>
      <li>Enter Custom format "yyyy-MM-dd HH:mm:ss.SSS XXX" (for 2020-05-09 22:14:14.037 +09:00)</li>
      <li>Enter Custom format "yyyy-MM-dd'T'HH:mm:ssXX" (for 2016-06-10T13:53:22+0400)</li>
      </ul>
      <p>If the DateTime format is not EPOCH and it doesn't contain a time zone in the Datetime Parameters window, the "Time Zone" field is enabled and you can specify the input time zone specially when it's not GMT.</p>
      <p>If you want to create your own attributes then you can by clicking on <img src="../ext/docs/CoreImportExportPlugins/resources/plus_black.png" alt="Add Attribute
      Icon" /> and selecting a type and entering a label.</p>
      <h2>Directed and Undirected Transactions</h2>
      <p>By default, transactions are created as directed. In the Transaction Attributes column there is a pseudo-attribute called "__directed__" (different from "directed") which can be used to create directed and undirected transactions as required. The "__directed__" pseudo-attribute is a boolean that will cause a transaction to be directed when its value is "true" (case insensitive), and undirected otherwise.</p>
      <h2>Import Data</h2>
      <p>Once your configuration is finished, import the entire file with the format you have applied by clicking on the Import button located at the bottom right hand corner.</p>
      <p>NOTE: The import window does not disappear after clicking import. This is so that you don't have to re-configure from the beginning. Once you are satisfied with the configuration, you have the ability to save your settings explained in the next section.</p>
      <h2>Save and Load Import Templates</h2>
      <p>An import configuration can be saved as a template, and loaded at a later time, using the "Options" menu in the top left corner.</p>
      <p>When a template is saved, the import definition name is used to name the saved query. If a query of that name has already been saved, you will be asked if you want to overwrite it. Templates are saved in the directory "&lt;HOME_DIRECTORY&gt;/.CONSTELLATION/ImportDelimited". (The name of the file in which the template is saved is encoded so it doesn't clash with file system limitations.) Files in this directory can be deleted using your favourite file management utility.</p>
      <p>Before loading a template, select the files you want to import. The loaded template then attempts to match the column names it knows with the column names in the current files. If a template is loaded before any files are selected, there are no columns to match against.</p>
      <p>When you select "Load...", you will be presented with a list of saved templates. Select one from the list and select OK. The template will be loaded and will appear as it was when it was saved.</p>
      <h2>Share Templates</h2>
      <p>To share the template do the following:</p>
      <ol>
      <li>Click on Help -&gt; User Directory</li>
      <li>Navigate to the folder called "ImportDelimited"</li>
      <li>Give the appropriate .json file to a recipient</li>
      <li>Upon receiving the file, they can follow these steps to save that .json file inside the "ImportDelimited" directory</li>
      </ol>
      <p>NOTE: The .json filename should not change!</p>
    </div>
  </div>

  <!-- Footer -->
  <div id="footer">
    <div class="container">
      <div class="row">
        <div class="col-12">

          <!-- Contact Us -->
          <section id="contact" class="contact">
            <header>
              <h3>Contact Us</h3>
            </header>
            <p>Feel free to ask a question on Gitter or file an issue on our GitHub Issues board.</p>
            <p>
              <a href="https://gitter.im/constellation-app/community" class="button">Contact Us</a>
              <span>&nbsp;&nbsp;&nbsp;</span>
              <a href="https://github.com/constellation-app/constellation/blob/master/CONTRIBUTING.md#reporting-bugs" class="button">Report Issue</a>
            </p>
          </section>

          <!-- Copyright -->
          <div class="copyright">
            <ul class="menu">
              <li>&copy; 2025 | Website developed by the <a href="https://github.com/constellation-app">Constellation community</a>. All rights reserved.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    $(document).ready(function() {
      var allCookies = Cookies.get();
      for (var cookie in allCookies) {
        if (cookie != null) {
          $("#" + cookie).removeClass('show');
          var cookieValue = Cookies.get(cookie);
          if (cookieValue == ("true")) {
            $("#" + cookie).collapse('show');
          } else {
            $("#" + cookie).collapse('hide');
            $("#" + cookie + " .collapse").removeClass('show');
          }
        }
      }
    });

    $(".collapse").on('shown.bs.collapse', function(e) {
      console.log('shown');
      e.stopPropagation();
      var active = $(this).attr('id');
      Cookies.set(active, "true");
      $("#" + active).addClass('show');
    });
    $(".collapse").on('hidden.bs.collapse', function(e) {
      console.log('collapsed');
      e.stopPropagation();
      var active = $(this).attr('id');
      Cookies.set(active, "false");
      $("#" + active).removeClass('show');
      $("#" + active).collapse('hide');
    });

    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-139401597-2');
  </script>

  <script>
    // The script for the search 
    let pages = [];

    fetch('../search.json')
        .then(response => response.json())
        .then((documents) => {
            pages = documents;
            return miniSearch.addAll(pages);
    }, {});
        
    const miniSearch = new MiniSearch({
        fields: ['title', 'category'],
        storeFields: ['title', 'category', 'link']
    });
        
    const app = document.querySelector('.App');
    const search = document.querySelector('.Search');
    const searchInput = document.querySelector('.Search input');
    const clearButton = document.querySelector('.Search button.clear');
    const suggestionList = document.querySelector('.SuggestionList');
    const resultsList = document.querySelector(".ResultsList");
        
    const capitalize = (string) => string.replace(/(\b\w)/gi, (char) => char.toUpperCase());

    // Typing into search bar updates search results and suggestions
    searchInput.addEventListener('input', (event) => {
        const query = searchInput.value;

        const results = (query.length > 1) ? getSearchResults(query) : [];
        renderSearchResults(results);
  
        const suggestions = (query.length > 1) ? getSuggestions(query) : [];
        renderSuggestions(suggestions);
    });
        
    // Clicking on clear button clears search and suggestions
    clearButton.addEventListener('click', () => {
        searchInput.value = '';
        searchInput.focus();

        renderSearchResults([]);
        renderSuggestions([]);
    });

    // Clicking on a suggestion selects it
    suggestionList.addEventListener('click', (event) => {
        const suggestion = event.target;

        if (suggestion.classList.contains('Suggestion')) {
            const query = suggestion.innerText.trim();
            searchInput.value = query;
            searchInput.focus();

            const results = getSearchResults(query);
            renderSearchResults(results);
            renderSuggestions([]);
        }
    });

    // Clicking outside of search bar clears suggestions
    app.addEventListener('click', (event) => {
        renderSuggestions([]);
    });
        
    // Pressing up/down/enter key while on search bar navigates through suggestions
    search.addEventListener('keydown', (event) => {
        const key = event.key;

        if (key === 'ArrowDown') {
            selectSuggestion(+1);
        } else if (key === 'ArrowUp') {
            selectSuggestion(-1);
        } else if (key === 'Enter' || key === 'Escape') {
            searchInput.blur();
            renderSuggestions([]);
        } else {
            return;
        }
        const query = searchInput.value;
        const results = getSearchResults(query);
        renderSearchResults(results);
    });

    // Get the search results
    const getSearchResults = (query) => {
        return miniSearch.search(query).map(({ id }) => pages[id]);
    };

    // Get possible suggestions for what has been typed
    const getSuggestions = (query) => {
        return miniSearch.autoSuggest(query);
    };

    // Display the search results on the page
    const renderSearchResults = (results) => {
        resultsList.innerHTML = results.map(({title, link}) => {
            return `<li class="Result">
                <a href=\ ${link}> ${capitalize(title)}</a>
                </li>`;
            }).join('\n');

        if (results.length > 0) {
            app.classList.add('hasResults');
        } else {
            app.classList.remove('hasResults');
        }
    };

    // Display the suggestions
    const renderSuggestions = (suggestions) => {
        suggestionList.innerHTML = suggestions.map(({ suggestion }) => {
            return `<li class="Suggestion">${suggestion}</li>`;
        }).join('\n');

        if (suggestions.length > 0) {
            app.classList.add('hasSuggestions');
        } else {
            app.classList.remove('hasSuggestions');
        }
    };

    // Select a suggestion and set the text input text to match 
    const selectSuggestion = (direction) => {
        const suggestions = document.querySelectorAll('.Suggestion');
        const selected = document.querySelector('.Suggestion.selected');
        const index = Array.from(suggestions).indexOf(selected);

        if (index > -1) {
            suggestions[index].classList.remove('selected');
        }

        const nextIndex = Math.max(Math.min(index + direction, suggestions.length - 1), 0);
        suggestions[nextIndex].classList.add('selected');
        searchInput.value = suggestions[nextIndex].innerText;
    };     
        
    /**
     * Code for MiniSearch is based on the demo provided at:
     * https://github.com/lucaong/minisearch/blob/master/examples/plain_js
     */

  </script>
</body>
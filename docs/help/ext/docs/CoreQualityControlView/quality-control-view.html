<!DOCTYPE html>

<head>
  <base href="/constellation-app.github.io/help/constellation/">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../../../assets/css/app.css" />
  <link rel="stylesheet" href="../../../assets/bootstrap/css/bootstrap.css" />
  <link rel="stylesheet" href="../../../assets/bootstrap/css/search.css" />
  <noscript>
    <link rel="stylesheet" href="../../../assets/css/noscript.css" />
  </noscript>

  <!-- Scripts -->
  <script src="../../../assets/js/jquery.min.js"></script>
  <script src="../../../assets/js/js.cookie.min.js"></script>
  <script src="../../../assets/js/jquery.dropotron.min.js"></script>
  <script src="../../../assets/js/jquery.scrolly.min.js"></script>
  <script src="../../../assets/js/jquery.scrollex.min.js"></script>
  <script src="../../../assets/js/browser.min.js"></script>
  <script src="../../../assets/js/breakpoints.min.js"></script>
  <script src="../../../assets/js/app.js"></script>
  <script src="../../../assets/bootstrap/js/bootstrap.js"></script>
  <script src="../../../assets/bootstrap/js/index.min.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-139401597-2"></script>

  <script>
    $(function() {
      $("#includedContent").load("../toc.html");
    });
  </script>

  <!-- Nav -->
  <nav id="nav">
    <ul>
      <li><a href="../../../index.html">Home</a></li>
      <li><a href="../../../index.html#banner" class="scrolly">About</a></li>
      <li><a href="../../../index.html#features" class="scrolly">Features</a></li>
      <li><a href="../../../download.html" class="scrolly">Download</a></li>
      <li><a href="../../../blog.html" class="scrolly">Blog</a></li>
      <li><a href="../ext/docs/CoreFunctionality/about-constellation.html" class="scrolly">Documentation</a></li>
      <li><a href="../../../index.html#contact" class="scrolly">Contact</a></li>
    </ul>
  </nav>

</head>

<body style="padding-top: 100px;">

  <div class="row">
    <div class="col-4 col-sm-3">
      <div id="includedContent"></div>
    </div>
    <div class="col-8 col-sm-9">
        <!-- Create the searchbar -->
        <div class="App">
            <!-- Search bar -->
            <div class="SearchBox">
                <div class="Search">
                    <button class="icon">&#x1F50D</button>
                    <input type="text" placeholder="Search help documentation" />
                    <button class="clear">&times;</button>
                </div>
                <ul class="SuggestionList"></ul>
            </div>
            <ul class="ResultsList"></ul>
        </div>

      <h1>Quality Control View</h1>
      <table class="table table-striped">
      <colgroup>
      <col style="width: 25%" />
      <col style="width: 25%" />
      <col style="width: 25%" />
      <col style="width: 25%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Constellation Action</th>
      <th>Keyboard Shortcut</th>
      <th>User Action</th>
      <th style="text-align: center;">Menu Icon</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Open Quality Control View</td>
      <td>Ctrl + Shift + Q</td>
      <td>Views -&gt; Quality Control View</td>
      <td style="text-align: center;"><img src="../ext/docs/CoreQualityControlView/resources/quality-control-view.png" alt="Quality Control View Icon" /></td>
      </tr>
      <tr class="even">
      <td>Select rows</td>
      <td></td>
      <td>Left click row</td>
      <td style="text-align: center;"></td>
      </tr>
      <tr class="odd">
      <td>Select multiple rows</td>
      <td></td>
      <td>Hold shift and left click rows</td>
      <td style="text-align: center;"></td>
      </tr>
      <tr class="even">
      <td>Toggle row selection</td>
      <td></td>
      <td>Hold ctrl and left click rows</td>
      <td style="text-align: center;"></td>
      </tr>
      <tr class="odd">
      <td>Show all registered rules and scores</td>
      <td></td>
      <td>Double click a row</td>
      <td style="text-align: center;"></td>
      </tr>
      </tbody>
      </table>

      <h2>IMPORTANT!!!</h2>
      <p>Although Constellation provides this Quality Control View, the user remains responsible for ensuring that their data is acceptable for further analysis.</p>
      <h2>Introduction</h2>
      <p>The Quality Control View is a quick and easy way to look at nodes on the graph and determine whether or not they have any obvious quality issues based on a series of rules built into Constellation. Selecting nodes in the graph will cause them to be processed against any registered quality control rules, and ranked in the Quality Control View according to their quality. This quality rating will be a given category (see below) along with reasoning as to why they may pose a quality control issue. Users can then highlight rows in the quality control view and apply options via the buttons at the bottom of the view.</p>
      <div style="text-align: center">

      <p><img src="../ext/docs/CoreQualityControlView/resources/QualityControlView.png" alt="Quality Control
      View" /></p>
      </div>

      <p> </p>
      <h2>Quality Control Categories</h2>
      <p>There are six levels of quality control categories for nodes that are selected.</p>
      <ul>
      <li><em>CRITICAL</em> - Any node which is specifically disallowed (whether it be disallowed for queries, or simply should not be in your graph) will have a dark red background, and may be blocked from further analysis.</li>
      <li><em>SEVERE</em> - Any node which is considered of particularly bad quality will have a red background, but will never be blocked.</li>
      <li><em>MAJOR</em> - Any node which is considered of very questionable quality will have an orange background.</li>
      <li><em>MEDIUM</em> - Any node which is considered of questionable quality will have a yellow background.</li>
      <li><em>MINOR</em> - Any node which is considered of slightly questionable quality will have a blue background.</li>
      <li><em>OK</em> - Any node which is considered of good quality will have a green background. This does not mean that these nodes are necessarily of high quality, only that no quality control rules matched - such nodes require manual checking by the user.</li>
      </ul>
      <h2>Options</h2>
      <p>These options are accessible from the bottom of the Quality Control View</p>
      <ul>
      <li><em>Delete From Graph</em> - Deletes the nodes highlighted in the Quality Control View from the graph.</li>
      <li><em>Select On Graph</em> - Selects the nodes highlighted in the Quality Control View and deselects everything else in the graph.</li>
      <li><em>Deselect On Graph</em> - Deselect the nodes highlighted in the Quality Control View from the selection in the graph.</li>
      <li><em>Zoom On Graph</em> - Resets the camera on the graph to make every selected node visible.</li>
      <li><em>Category Priority</em> - Allows you to view and change the quality category flagged for each of the registered rules.</li>
      </ul>
      <h4>Category Priority</h4>
      <p>Clicking the Category Priority button opens a small dialog window where you can assign any priority level to each rule.</p>
      <div style="text-align: center">

      <p><img src="../ext/docs/CoreQualityControlView/resources/CategoryPriority.png" alt="Quality Control
      View" /></p>
      </div>
      &nbsp;   
      Each rule can be set and reset individually.  
      If any rules were already modified when opening the Category Priority screen, those rules will have a more informative reset button, indicating the default priority level for each modified rule.  
      &nbsp;   
      <div style="text-align: center">

      <p><img src="../ext/docs/CoreQualityControlView/resources/ModifiedCategoryPriority.png" alt="Quality Control
      View" /></p>
      </div>
      &nbsp;   

      <p><em>Note: A node is considered to have an OK Quality by default. Only when a rule fails will the Quality be modified, matching the priority value assigned to the rule that failed.</em><br />
                <em>If multiple rules fail, then the Quality for the node will be set to the highest priority value from among the rules that failed.</em></p>
    </div>
  </div>

  <!-- Footer -->
  <div id="footer">
    <div class="container">
      <div class="row">
        <div class="col-12">

          <!-- Contact Us -->
          <section id="contact" class="contact">
            <header>
              <h3>Contact Us</h3>
            </header>
            <p>Feel free to ask a question on Gitter or file an issue on our GitHub Issues board.</p>
            <p>
              <a href="https://gitter.im/constellation-app/community" class="button">Contact Us</a>
              <span>&nbsp;&nbsp;&nbsp;</span>
              <a href="https://github.com/constellation-app/constellation/blob/master/CONTRIBUTING.md#reporting-bugs" class="button">Report Issue</a>
            </p>
          </section>

          <!-- Copyright -->
          <div class="copyright">
            <ul class="menu">
              <li>&copy; 2025 | Website developed by the <a href="https://github.com/constellation-app">Constellation community</a>. All rights reserved.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    $(document).ready(function() {
      var allCookies = Cookies.get();
      for (var cookie in allCookies) {
        if (cookie != null) {
          $("#" + cookie).removeClass('show');
          var cookieValue = Cookies.get(cookie);
          if (cookieValue == ("true")) {
            $("#" + cookie).collapse('show');
          } else {
            $("#" + cookie).collapse('hide');
            $("#" + cookie + " .collapse").removeClass('show');
          }
        }
      }
    });

    $(".collapse").on('shown.bs.collapse', function(e) {
      console.log('shown');
      e.stopPropagation();
      var active = $(this).attr('id');
      Cookies.set(active, "true");
      $("#" + active).addClass('show');
    });
    $(".collapse").on('hidden.bs.collapse', function(e) {
      console.log('collapsed');
      e.stopPropagation();
      var active = $(this).attr('id');
      Cookies.set(active, "false");
      $("#" + active).removeClass('show');
      $("#" + active).collapse('hide');
    });

    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-139401597-2');
  </script>

  <script>
    // The script for the search 
    let pages = [];

    fetch('../search.json')
        .then(response => response.json())
        .then((documents) => {
            pages = documents;
            return miniSearch.addAll(pages);
    }, {});
        
    const miniSearch = new MiniSearch({
        fields: ['title', 'category'],
        storeFields: ['title', 'category', 'link']
    });
        
    const app = document.querySelector('.App');
    const search = document.querySelector('.Search');
    const searchInput = document.querySelector('.Search input');
    const clearButton = document.querySelector('.Search button.clear');
    const suggestionList = document.querySelector('.SuggestionList');
    const resultsList = document.querySelector(".ResultsList");
        
    const capitalize = (string) => string.replace(/(\b\w)/gi, (char) => char.toUpperCase());

    // Typing into search bar updates search results and suggestions
    searchInput.addEventListener('input', (event) => {
        const query = searchInput.value;

        const results = (query.length > 1) ? getSearchResults(query) : [];
        renderSearchResults(results);
  
        const suggestions = (query.length > 1) ? getSuggestions(query) : [];
        renderSuggestions(suggestions);
    });
        
    // Clicking on clear button clears search and suggestions
    clearButton.addEventListener('click', () => {
        searchInput.value = '';
        searchInput.focus();

        renderSearchResults([]);
        renderSuggestions([]);
    });

    // Clicking on a suggestion selects it
    suggestionList.addEventListener('click', (event) => {
        const suggestion = event.target;

        if (suggestion.classList.contains('Suggestion')) {
            const query = suggestion.innerText.trim();
            searchInput.value = query;
            searchInput.focus();

            const results = getSearchResults(query);
            renderSearchResults(results);
            renderSuggestions([]);
        }
    });

    // Clicking outside of search bar clears suggestions
    app.addEventListener('click', (event) => {
        renderSuggestions([]);
    });
        
    // Pressing up/down/enter key while on search bar navigates through suggestions
    search.addEventListener('keydown', (event) => {
        const key = event.key;

        if (key === 'ArrowDown') {
            selectSuggestion(+1);
        } else if (key === 'ArrowUp') {
            selectSuggestion(-1);
        } else if (key === 'Enter' || key === 'Escape') {
            searchInput.blur();
            renderSuggestions([]);
        } else {
            return;
        }
        const query = searchInput.value;
        const results = getSearchResults(query);
        renderSearchResults(results);
    });

    // Get the search results
    const getSearchResults = (query) => {
        return miniSearch.search(query).map(({ id }) => pages[id]);
    };

    // Get possible suggestions for what has been typed
    const getSuggestions = (query) => {
        return miniSearch.autoSuggest(query);
    };

    // Display the search results on the page
    const renderSearchResults = (results) => {
        resultsList.innerHTML = results.map(({title, link}) => {
            return `<li class="Result">
                <a href=\ ${link}> ${capitalize(title)}</a>
                </li>`;
            }).join('\n');

        if (results.length > 0) {
            app.classList.add('hasResults');
        } else {
            app.classList.remove('hasResults');
        }
    };

    // Display the suggestions
    const renderSuggestions = (suggestions) => {
        suggestionList.innerHTML = suggestions.map(({ suggestion }) => {
            return `<li class="Suggestion">${suggestion}</li>`;
        }).join('\n');

        if (suggestions.length > 0) {
            app.classList.add('hasSuggestions');
        } else {
            app.classList.remove('hasSuggestions');
        }
    };

    // Select a suggestion and set the text input text to match 
    const selectSuggestion = (direction) => {
        const suggestions = document.querySelectorAll('.Suggestion');
        const selected = document.querySelector('.Suggestion.selected');
        const index = Array.from(suggestions).indexOf(selected);

        if (index > -1) {
            suggestions[index].classList.remove('selected');
        }

        const nextIndex = Math.max(Math.min(index + direction, suggestions.length - 1), 0);
        suggestions[nextIndex].classList.add('selected');
        searchInput.value = suggestions[nextIndex].innerText;
    };     
        
    /**
     * Code for MiniSearch is based on the demo provided at:
     * https://github.com/lucaong/minisearch/blob/master/examples/plain_js
     */

  </script>
</body>